<!-- DragAndDropContainer.stories.mdx -->
import { useState, useEffect } from 'react';
import { Canvas, Meta, Story } from '@storybook/addon-docs';
import { within, userEvent } from '@storybook/testing-library';

import DragAndDropContainer from '.';
import DragAndDropItem from '../DragAndDropItem';
import ItemDragHandle from '../DragAndDropItem/ItemDragHandle';
import Button from '../../Button';

<Meta title="Drag and Drop" component={DragAndDropContainer} />

export const CutomButton = () => {
  const [isDone, setIsDone] = useState(false);
  return (
    <Button isDone={isDone} onClick={() => setIsDone(!isDone)}>
      {isDone ? 'Click me' : 'Done'}
    </Button>
  );
}

export const Template = (args) => {
  return (
    <DragAndDropContainer gridColumns={3}>
      <DragAndDropItem draggableId="drag-1">
        <ItemDragHandle>
          <div className="w-52 h-52 bg-green-500">
            Drag 1
          </div>
        </ItemDragHandle>
      </DragAndDropItem>
      <DragAndDropItem draggableId="drag-2">
        <div className="w-52 border rounded p-2 my-1">
          <ItemDragHandle>
            <img  src="https://e7.pngegg.com/pngimages/178/590/png-clipart-ace-of-heart-playing-cad-playing-card-ace-of-hearts-one-card-suit-heart-playing-cards-love-game-thumbnail.png" />
          </ItemDragHandle>
          <CutomButton />
        </div>
      </DragAndDropItem>
      <DragAndDropItem draggableId="drag-3">
        <ItemDragHandle>
          <div className="w-52 h-52 bg-blue-500">Drag 3</div>
        </ItemDragHandle>
      </DragAndDropItem>
      <DragAndDropItem draggableId="drag-4">
        <ItemDragHandle>
          <div className="w-52 h-52 bg-green-500">
            Drag 4
          </div>
        </ItemDragHandle>
      </DragAndDropItem>
      <DragAndDropItem draggableId="drag-5">
        <div className="w-52 border rounded p-2 my-1">
          <ItemDragHandle>
            <img  src="https://e7.pngegg.com/pngimages/178/590/png-clipart-ace-of-heart-playing-cad-playing-card-ace-of-hearts-one-card-suit-heart-playing-cards-love-game-thumbnail.png" />
          </ItemDragHandle>
          <CutomButton />
        </div>
      </DragAndDropItem>
      <DragAndDropItem draggableId="drag-6">
        <ItemDragHandle>
          <div className="w-52 h-52 bg-blue-500">Drag 6</div>
        </ItemDragHandle>
      </DragAndDropItem>
    </DragAndDropContainer>
  );
};

<Canvas>
  <Story name="DragAndDropContainer">
    {Template.bind({})}
  </Story>
</Canvas>